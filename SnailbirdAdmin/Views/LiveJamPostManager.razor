@using SnailbirdData.Models.Post;
@using SnailbirdAdmin.Models;
@using RazorCore;

@inherits PostManager<LiveJamPost>

<h3>Posts</h3>

@if (model != null)
{
    @if (CurrentMode == PostManagerMode.View)
    {
        <NewRowTable TModel="LiveJamPost"
                     models="model.Posts"
                     columnMap="columns"
                     OnAdd="AddPost"
                     OnDelete="DeletePost" />
    }
    else if (CurrentMode == PostManagerMode.Add)
    {
        <EditLiveJamPost Post="model.Post"
                  OnCommitPost="SaveNewPost" />
    }
    else if (CurrentMode == PostManagerMode.Edit)
    {
        <EditLiveJamPost Post="model.Post"
                  OnCommitPost="SavePost" />
    }
}