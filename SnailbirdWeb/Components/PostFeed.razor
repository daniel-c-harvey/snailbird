@using SnailbirdData.Providers;

@inject IPostProvider PostProvider

@foreach(SnailbirdData.Models.LiveJamPost post in Posts)
{
    <LiveJamPost Post=@post />
}


@code {
    public IEnumerable<SnailbirdData.Models.LiveJamPost> Posts = new SnailbirdData.Models.LiveJamPost[] { };

    protected override void OnInitialized()
    {
        int[] postIds = { 7 };// todo source the available posts somewhere else
        var posts = new List<SnailbirdData.Models.LiveJamPost>(postIds.Count());

        foreach(int id in postIds) 
        {
            posts.Add(PostProvider.GetPost<SnailbirdData.Models.LiveJamPost>(id));
        }

        Posts = posts;
    }
}
