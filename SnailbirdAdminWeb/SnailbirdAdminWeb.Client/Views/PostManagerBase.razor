@using SnailbirdData.Models.Post
@using SnailbirdAdminWeb.Client.Models
@using SnailbirdAdminWeb.Client.Updates
@using SnailbirdAdminWeb.Client.ViewModels

@typeparam TPost where TPost : Post<TPost>, new()
@typeparam TEdit where TEdit : EditPostViewModelBase<TPost, TEdit>
@typeparam TUpdate where TUpdate : PostManagerUpdate<TPost>
@typeparam TView where TView : PostManagerViewModel<TPost, TEdit, TUpdate>

@if (ViewComponent != null && ViewModel != null)
{
    if (ViewModel.CurrentMode == PostManagerMode.View)
    {
        @ViewComponent(ViewModel)
    }
    else if (ViewModel.CurrentMode == PostManagerMode.Add && AddComponent != null && ViewModel.AddViewModel != null)
    {
        @AddComponent(ViewModel.AddViewModel.LoadPost(ViewModel.Model.Post))
    }
    else if (ViewModel.CurrentMode == PostManagerMode.Edit && EditComponent != null && ViewModel.EditingViewModel != null)
    {
        @EditComponent(ViewModel.EditingViewModel.LoadPost(ViewModel.Model.Post))
    }
}